(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const u of n.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function s(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(t){if(t.ep)return;t.ep=!0;const n=s(t);fetch(t.href,n)}})();const f=document.getElementById("game"),E=document.getElementById("form"),m=document.getElementById("pop-up"),h=["perro","gato","portatil","programa","montaña","playa","silueta","natural","libro","musica"],i={correct:"letter-correct",present:"letter-present",incorrect:"letter-incorrect"},y=5;let c,o,p=0,l,L=!1;const b=()=>{const e=document.createDocumentFragment();for(let r=0;r<y;r++){const s=document.createElement("div");s.classList.add("game__row");for(let a=0;a<o.length;a++){const t=document.createElement("span");t.classList.add("letter"),s.append(t)}e.append(s)}f.append(e)},C=()=>{const e=Math.floor(Math.random()*h.length);o=h[e],l=o,console.log(o),b()},O=()=>{p++},w=e=>{l=l.replace(e,"-")},d=(e,r)=>{f.children[p].children[r].classList.add(e)},R=()=>{for(let e=0;e<c.length;e++){const r=c[e],s=o[e];l.includes(r)&&r!==s?(w(r),d(i.present,e)):r!==s&&d(i.incorrect,e)}O()},W=()=>{l=o;for(let e=0;e<c.length;e++){const r=c[e],s=o[e];r===s&&(w(r),d(i.correct,e),console.log(l))}R()},I=()=>{for(let e=0;e<c.length;e++)d(i.correct,e)},g=e=>{m.textContent=e,m.classList.add("pop-up--show"),setTimeout(()=>{m.classList.remove("pop-up--show")},3e3)},v=()=>{L=c===o,L?(console.log("WIN"),I(),g("¡Felicidades!")):W()},P=()=>{p===y&&c!==o&&g(`Has alcanzado el límite de intentos. La palabra era: ${o}`)},N=()=>{if(c.length!==o.length){g(`La palabra debe tener ${o.length} letras`);return}for(let e=0;e<c.length;e++)f.children[p].children[e].textContent=c[e].toUpperCase();v(),P()};C();E.addEventListener("submit",e=>{e.preventDefault(),c=e.target.word.value,N(),e.target.reset()});
